<!DOCTYPE html><html lang="en" data-astro-cid-sckkx6r4> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ¤©</text></svg>"><meta name="generator" content="Astro v5.12.9"><title>Webserv</title><style>html,body{margin:0;width:100%;height:100%}
.prose[data-astro-cid-syqvp6rr]{font-family:Inter,Roboto,Helvetica Neue,Arial Nova,Nimbus Sans,Arial,sans-serif;margin:50px auto;width:50%}th[data-astro-cid-syqvp6rr],td[data-astro-cid-syqvp6rr]{text-align:left;padding:8px;border-bottom:1px solid #ddd}th[data-astro-cid-syqvp6rr]{background-color:#f2f2f2;opacity:80%}#background[data-astro-cid-syqvp6rr]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;filter:blur(100px)}#container[data-astro-cid-syqvp6rr]{font-family:Inter,Roboto,Helvetica Neue,Arial Nova,Nimbus Sans,Arial,sans-serif;height:100%}main[data-astro-cid-syqvp6rr]{height:100%;display:flex;justify-content:center}
</style></head> <body data-astro-cid-sckkx6r4>  <div id="container" data-astro-cid-syqvp6rr> <img id="background" src="/public/background.BPKAcmfN.svg" alt="" fetchpriority="high" data-astro-cid-syqvp6rr> <main data-astro-cid-syqvp6rr> <div class="prose" data-astro-cid-syqvp6rr> <h1 id="config-file" data-astro-cid-syqvp6rr>Config file manual</h1> <p data-astro-cid-syqvp6rr>Our program accepts a simplified version of the Nginx config file.</p> <p data-astro-cid-syqvp6rr>
Various <strong data-astro-cid-syqvp6rr>directives</strong> are allowed in the configuration file.
        Directives are divided into simple directives and block directives. A simple
        directive consists of the name and parameters separated by spaces and ends
        with a semicolon (<code data-astro-cid-syqvp6rr>;</code>). A block directive has the same
        structure as a simple directive, but instead of the semicolon it ends
        with a set of additional instructions surrounded by braces (<code data-astro-cid-syqvp6rr> and <code data-astro-cid-syqvp6rr></code></code>). If a block directive can have other directives inside braces, it is
        called a <strong data-astro-cid-syqvp6rr>context</strong> (examples: <code data-astro-cid-syqvp6rr>server</code> and <code data-astro-cid-syqvp6rr>location</code> contexts).
</p> <p data-astro-cid-syqvp6rr>
Directives placed in the configuration file outside of any contexts are
        considered to be in the &quot;global&quot; context. Unlike Nginx, there
        is no <code data-astro-cid-syqvp6rr>http</code> context for our program. <code data-astro-cid-syqvp6rr>server</code> directives
        must be in the global context. Comments are allowed: the rest of a line after
        the <code data-astro-cid-syqvp6rr>#</code> sign is considered a comment.
</p> <p data-astro-cid-syqvp6rr>
Here is a more detailed description of the directives allows in each of
        the three allowed contexts:
</p> <p data-astro-cid-syqvp6rr><strong data-astro-cid-syqvp6rr>1. &quot;Global&quot; context:</strong></p> <p data-astro-cid-syqvp6rr>
At least one <code data-astro-cid-syqvp6rr>server</code> block is mandatory in the global context.
</p> <p data-astro-cid-syqvp6rr>Allowed directives inside global context:</p> <table data-astro-cid-syqvp6rr> <thead data-astro-cid-syqvp6rr> <tr data-astro-cid-syqvp6rr> <th data-astro-cid-syqvp6rr>Directive</th> <th data-astro-cid-syqvp6rr>Multiple allowed</th> <th data-astro-cid-syqvp6rr>Duplicates allowed</th> <th data-astro-cid-syqvp6rr>Is optional</th> <th data-astro-cid-syqvp6rr>Default value</th> <th data-astro-cid-syqvp6rr>Number of arguments</th> </tr> </thead> <tbody data-astro-cid-syqvp6rr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>server</code></td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>yes (warn)</td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>-</td> <td data-astro-cid-syqvp6rr>n/a (block)</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>root</code></td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>inherited or &quot;html&quot;</td> <td data-astro-cid-syqvp6rr>1</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>index</code></td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>index.html</td> <td data-astro-cid-syqvp6rr>no limit</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>error_page</code></td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>inherited or none</td> <td data-astro-cid-syqvp6rr>no limit (at least 2, last is URI)</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>autoindex</code></td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>inherited or off</td> <td data-astro-cid-syqvp6rr>1 (on/off)</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>client_max_body_size</code></td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>inherited or 1m</td> <td data-astro-cid-syqvp6rr>1</td> </tr> </tbody> </table> <p data-astro-cid-syqvp6rr><strong data-astro-cid-syqvp6rr>2. <code data-astro-cid-syqvp6rr>server</code> context:</strong></p> <p data-astro-cid-syqvp6rr>
The first <code data-astro-cid-syqvp6rr>server</code> block defined for a given IP:port combination
        becomes the default server for that IP:port. If multiple servers have the
        same server_name, it is allowed, but a warning will be issues that they will
        be considered one server (i.e., all the subsequent duplicate servers will
        be ignored).
</p> <p data-astro-cid-syqvp6rr>Allowed directives inside <code data-astro-cid-syqvp6rr>server</code> context:</p> <table data-astro-cid-syqvp6rr> <thead data-astro-cid-syqvp6rr> <tr data-astro-cid-syqvp6rr> <th data-astro-cid-syqvp6rr>Directive</th> <th data-astro-cid-syqvp6rr>Multiple allowed</th> <th data-astro-cid-syqvp6rr>Duplicates allowed</th> <th data-astro-cid-syqvp6rr>Is optional</th> <th data-astro-cid-syqvp6rr>Default value</th> <th data-astro-cid-syqvp6rr>Number of arguments</th> </tr> </thead> <tbody data-astro-cid-syqvp6rr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>listen</code></td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>INADDR_ANY:http</td> <td data-astro-cid-syqvp6rr>1</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>server_name</code></td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>&quot;&quot;</td> <td data-astro-cid-syqvp6rr>no limit</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>root</code></td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>inherited or &quot;html&quot;</td> <td data-astro-cid-syqvp6rr>1</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>index</code></td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>index.html</td> <td data-astro-cid-syqvp6rr>no limit</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>error_page</code></td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>inherited or none</td> <td data-astro-cid-syqvp6rr>no limit (at least 2, last is URI)</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>location</code></td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>/ </td> <td data-astro-cid-syqvp6rr>block (see below)</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>autoindex</code></td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>inherited or off</td> <td data-astro-cid-syqvp6rr>1 (on/off)</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>client_max_body_size</code></td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>inherited or 1m</td> <td data-astro-cid-syqvp6rr>1</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>cgi_handler</code></td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>-</td> <td data-astro-cid-syqvp6rr>2 (ext and interpreter)</td> </tr> </tbody> </table> <p data-astro-cid-syqvp6rr><strong data-astro-cid-syqvp6rr>3. <code data-astro-cid-syqvp6rr>location</code> context:</strong></p> <p data-astro-cid-syqvp6rr>Allowed directives inside location context:</p> <table data-astro-cid-syqvp6rr> <thead data-astro-cid-syqvp6rr> <tr data-astro-cid-syqvp6rr> <th data-astro-cid-syqvp6rr>Directive</th> <th data-astro-cid-syqvp6rr>Multiple allowed</th> <th data-astro-cid-syqvp6rr>Duplicates allowed</th> <th data-astro-cid-syqvp6rr>Is optional</th> <th data-astro-cid-syqvp6rr>Default value</th> <th data-astro-cid-syqvp6rr>Number of arguments</th> </tr> </thead> <tbody data-astro-cid-syqvp6rr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>root</code></td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>inherited or &quot;html&quot;</td> <td data-astro-cid-syqvp6rr>1</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>autoindex</code></td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>inheritied or off</td> <td data-astro-cid-syqvp6rr>1 (on/off)</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>client_max_body_size</code></td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>inherited or 1m</td> <td data-astro-cid-syqvp6rr>1</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>index</code></td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>inherited or index.html</td> <td data-astro-cid-syqvp6rr>no limit</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>error_page</code></td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>inherited or none</td> <td data-astro-cid-syqvp6rr>no limit (at least 2, last is URI)</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>cgi_handler</code></td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>inherited or none</td> <td data-astro-cid-syqvp6rr>2 (ext and interpreter)</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>limit_except</code></td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>GET POST DELETE</td> <td data-astro-cid-syqvp6rr>no limit</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>upload_store</code></td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>./uploads</td> <td data-astro-cid-syqvp6rr>1</td> </tr> <tr data-astro-cid-syqvp6rr> <td data-astro-cid-syqvp6rr><code data-astro-cid-syqvp6rr>return</code></td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>no</td> <td data-astro-cid-syqvp6rr>yes</td> <td data-astro-cid-syqvp6rr>-</td> <td data-astro-cid-syqvp6rr>1 or 2 (code URL)</td> </tr> </tbody> </table> <p data-astro-cid-syqvp6rr>
In terms of C++, each of the above 3 contexts is its own class: <code data-astro-cid-syqvp6rr>GlobalConfig</code>, <code data-astro-cid-syqvp6rr>ServerConfig</code>, and <code data-astro-cid-syqvp6rr>LocationConfig</code>. There is
        only one <code data-astro-cid-syqvp6rr>GlobalConfig</code> object since only one config file is allowed.
        Each
<code data-astro-cid-syqvp6rr>GlobalConfig</code> object can have multiple <code data-astro-cid-syqvp6rr>ServerConfig</code>
objects, and each <code data-astro-cid-syqvp6rr>ServerConfig</code> object can have multiple <code data-astro-cid-syqvp6rr>LocationConfig</code> objects.
</p> <br data-astro-cid-syqvp6rr><br data-astro-cid-syqvp6rr> </div> </main> </div>   </body></html>